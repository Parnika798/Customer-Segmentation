# -*- coding: utf-8 -*-
"""Project.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1ZfuCi7cB7zeKIWiHep_B9DBwHbaQXe3k
"""
# streamlit_app.py

import streamlit as st
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# Set Streamlit page config
st.set_page_config(page_title="Customer Analysis", layout="wide")





st.markdown("""
    <h1 style='text-align: right; color: #A64D79; font-size: 4rem; margin-bottom:0;'>
        Customer Behavior Uncovered:
    </h1>
    <h2 style='text-align: right; color: #A64D79; font-size: 3rem; margin-top:0;'>
        Trends You Can't Ignore
    </h2>
""", unsafe_allow_html=True)



# Load the data
df = pd.read_csv("ecommerce_customer_data.csv")


st.markdown("""
<div style="background-image: url('https://www.transparenttextures.com/patterns/cubes.png'); padding: 10px 20px; border-radius: 10px;">
    <h2 style="color: #88304E;">Understanding Customer Diversity</h2>
    <p style="color: #F7374F; font-size: 16px; font-family: 'Arial';">
    Analyzing age, gender, and location patterns to better understand our customer base.
    </p>
</div>
""", unsafe_allow_html=True)


# Create 3 columns
col1, col2, col3 = st.columns(3)

# --------- First Graph ----------
with col1:
    st.markdown(
    "<h3 style='color: #D95F59;'>Gender-wise Distribution</h3>", 
    unsafe_allow_html=True
    )
    fig1, ax1 = plt.subplots()
    gender_distribution = df['Gender'].value_counts().reset_index()
    gender_distribution.columns = ['Gender', 'Count']
    sns.barplot(x='Gender', y='Count', data=gender_distribution, palette='pastel', ax=ax1)
    ax1.set_xlabel("Gender")
    ax1.set_ylabel("Count")
    st.pyplot(fig1)

# --------- Second Graph ----------
with col2:
    st.markdown(
    "<h3 style='color: #D95F59;'>Location-wise Distribution</h3>", 
    unsafe_allow_html=True
    )
    fig2, ax2 = plt.subplots()
    location_distribution = df['Location'].value_counts().reset_index()
    location_distribution.columns = ['Location', 'Count']
    sns.barplot(x='Location', y='Count', data=location_distribution, palette='viridis', ax=ax2)
    ax2.set_xlabel("Location")
    ax2.set_ylabel("Count")
    plt.xticks(rotation=45, ha='right')
    st.pyplot(fig2)

# --------- Third Graph ----------
with col3:
    st.markdown(
    "<h3 style='color: #D95F59;'>Location-wise Distribution</h3>", 
    unsafe_allow_html=True
    )
    bins = [18, 21, 24, 27, 30, 33, 36]
    labels = ['18-20', '21-23', '24-26', '27-29', '30-32', '33-35']
    df['Age Group'] = pd.cut(df['Age'], bins=bins, labels=labels, right=False)
    fig3, ax3 = plt.subplots()
    age_group_distribution = df['Age Group'].value_counts().sort_index()
    sns.barplot(x=age_group_distribution.index, y=age_group_distribution.values, palette='coolwarm', ax=ax3)
    ax3.set_xlabel("Age Group")
    ax3.set_ylabel("Count")
    st.pyplot(fig3)



st.markdown("""
<div style="background-image: url('https://www.transparenttextures.com/patterns/cubes.png'); padding: 10px 20px; border-radius: 10px;">
    <h2 style="color: #88304E;">Customer Browsing and Engagement Trends</h2>
    <p style="color: #F7374F; font-size: 16px; font-family: 'Arial';">
    Exploring how customers interact with our platform through browsing behavior and engagement metrics.
    </p>
</div>
""", unsafe_allow_html=True)

st.markdown("""
<div style="background-image: url('https://www.transparenttextures.com/patterns/cubes.png'); padding: 10px 20px; border-radius: 10px;">
    <h2 style="color: #88304E;">Transactional Insights: Frequency and Preferences</h2>
    <p style="color: #F7374F; font-size: 16px; font-family: 'Arial';">
    Uncovering purchase habits, spending patterns, and product preferences across customers.
    </p>
</div>
""", unsafe_allow_html=True)
